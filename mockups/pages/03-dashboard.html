<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - TBAT Mock Exam Information Hub</title>
    
    <!-- Google Fonts - Noto Sans Thai -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* 
        * DEV REMARKS:
        * 1) PRINT FUNCTION: ต้องปรับให้ print เฉพาะ .ticket-section เท่านั้น ไม่ใช่ทั้งหน้า
        *    - ใช้ @media print CSS rules หรือ
        *    - Create separate print view/window ที่แสดงเฉพาะบัตรสอบ
        * 
        * 2) GOOGLE MAP: ต้องใส่ embedded map จริง
        *    - ใช้ Google Maps Embed API
        *    - พิกัด: มหาวิทยาลัยเชียงใหม่ คณะวิทยาศาสตร์
        *    - หรือใช้ iframe embed code จาก Google Maps
        */
        
        :root {
            /* TBAT Variant 6 Color Palette */
            --tbat-primary: #0d7276;
            --tbat-secondary: #529a94;
            --tbat-accent: #90bfc0;
            --tbat-bg: #cae0e1;
            --tbat-light: #fdfefe;
            --tbat-text: #333333;
            --tbat-text-light: #666666;
            --tbat-border: #e0e0e0;
            --tbat-success: #4caf50;
            --tbat-warning: #ff9800;
            --tbat-error: #f44336;
            --tbat-info: #2196f3;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans Thai', sans-serif;
            background: linear-gradient(135deg, var(--tbat-bg) 0%, var(--tbat-light) 100%);
            min-height: 100vh;
            color: var(--tbat-text);
        }

        /* Header Navigation */
        .header {
            background: var(--tbat-light);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--tbat-primary);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-badge {
            background: var(--tbat-border);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
        }

        .user-badge.free {
            background: var(--tbat-border);
            color: var(--tbat-text-light);
        }

        .user-badge.advanced {
            background: linear-gradient(135deg, #ffd700, #ffb300);
            color: white;
        }

        .user-name {
            font-weight: 500;
        }

        .btn-logout {
            background: transparent;
            color: var(--tbat-error);
            padding: 0.5rem 1rem;
            border: 1px solid var(--tbat-error);
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-logout:hover {
            background: var(--tbat-error);
            color: white;
        }

        /* Main Dashboard Layout */
        .dashboard-container {
            max-width: 1280px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        /* Exam Ticket Section */
        .ticket-section {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .ticket-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 2rem;
        }

        .ticket-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--tbat-primary);
            margin-bottom: 0.5rem;
        }

        .exam-code-box {
            background: linear-gradient(135deg, var(--tbat-primary), var(--tbat-secondary));
            color: white;
            padding: 1.5rem 2rem;
            border-radius: 12px;
            text-align: center;
        }

        .code-label {
            font-size: 0.875rem;
            opacity: 0.9;
            margin-bottom: 0.5rem;
        }

        .exam-code {
            font-size: 1.5rem;
            font-weight: 700;
            font-family: 'Courier New', monospace;
            letter-spacing: 2px;
        }

        .ticket-body {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .ticket-info {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .info-icon {
            font-size: 1.5rem;
            color: var(--tbat-secondary);
            flex-shrink: 0;
        }

        .info-content {
            flex: 1;
        }

        .info-label {
            font-size: 0.875rem;
            color: var(--tbat-text-light);
            margin-bottom: 0.25rem;
        }

        .info-value {
            font-weight: 600;
            color: var(--tbat-text);
        }
        
        .mt-2 {
            margin-top: 0.5rem;
        }

        .ticket-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--tbat-border);
        }

        .btn-primary {
            background: var(--tbat-primary);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background: var(--tbat-secondary);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: white;
            color: var(--tbat-primary);
            padding: 0.75rem 1.5rem;
            border: 2px solid var(--tbat-primary);
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: var(--tbat-bg);
        }

        /* Countdown Timer */
        .countdown-section {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border: 2px solid var(--tbat-warning);
            padding: 2rem;
            border-radius: 16px;
            text-align: center;
            margin-bottom: 2rem;
        }

        .countdown-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--tbat-text);
            margin-bottom: 1rem;
        }

        .countdown-timer {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1rem;
        }

        .time-unit {
            background: white;
            padding: 1rem;
            border-radius: 12px;
            min-width: 80px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .time-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--tbat-primary);
        }

        .time-label {
            font-size: 0.875rem;
            color: var(--tbat-text-light);
            margin-top: 0.25rem;
        }

        /* Venue Information */
        .venue-section {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .venue-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .venue-details {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .venue-item {
            display: flex;
            gap: 1rem;
            align-items: flex-start;
        }

        .venue-icon {
            font-size: 1.25rem;
            color: var(--tbat-secondary);
        }

        .venue-info {
            flex: 1;
        }

        .venue-map {
            background: var(--tbat-bg);
            border-radius: 12px;
            padding: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 250px;
            border: 2px dashed var(--tbat-border);
        }

        .map-placeholder {
            text-align: center;
            color: var(--tbat-text-light);
        }

        /* Exam Schedule */
        .schedule-section {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .schedule-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .schedule-card {
            border: 1px solid var(--tbat-border);
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .schedule-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(13, 114, 118, 0.05), transparent);
            transition: left 0.5s ease;
        }

        .schedule-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transform: translateY(-2px);
            border-color: var(--tbat-primary);
        }

        .schedule-card:hover::before {
            left: 100%;
        }

        .subject-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .subject-name {
            font-weight: 600;
            font-size: 1.125rem;
            color: var(--tbat-primary);
        }

        .subject-icon {
            font-size: 1.5rem;
        }

        .schedule-time {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--tbat-text-light);
            margin-bottom: 0.5rem;
        }

        .schedule-room {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--tbat-text-light);
        }

        /* Announcements */
        .announcements-section {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .announcement-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .announcement-item {
            padding: 1rem;
            background: var(--tbat-light);
            border-left: 4px solid var(--tbat-info);
            border-radius: 8px;
        }

        .announcement-item.urgent {
            border-left-color: var(--tbat-error);
            background: #fff5f5;
        }

        .announcement-date {
            font-size: 0.875rem;
            color: var(--tbat-text-light);
            margin-bottom: 0.5rem;
        }

        .announcement-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .announcement-content {
            color: var(--tbat-text-light);
            line-height: 1.5;
        }

        /* Package Upgrade for FREE users */
        .upgrade-section {
            background: linear-gradient(135deg, #f3e5f5, #e1bee7);
            border: 2px solid #9c27b0;
            padding: 2rem;
            border-radius: 16px;
            text-align: center;
            margin-bottom: 2rem;
        }

        .upgrade-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--tbat-text);
            margin-bottom: 1rem;
        }

        .upgrade-benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .benefit-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            justify-content: center;
        }

        .check-icon {
            color: var(--tbat-success);
            font-size: 1.25rem;
        }

        .btn-upgrade {
            background: linear-gradient(135deg, #9c27b0, #7b1fa2);
            color: white;
            padding: 1rem 2rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.125rem;
            display: inline-block;
            margin-top: 1rem;
            transition: all 0.3s ease;
        }

        .btn-upgrade:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(156, 39, 176, 0.3);
        }

        /* Contact Support */
        .support-section {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .support-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .support-card {
            border: 1px solid var(--tbat-border);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .support-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .support-icon {
            font-size: 2rem;
            color: var(--tbat-secondary);
            margin-bottom: 1rem;
        }

        .support-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .support-contact {
            color: var(--tbat-primary);
            text-decoration: none;
            font-weight: 500;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .ticket-header {
                flex-direction: column;
                gap: 1.5rem;
            }

            .exam-code-box {
                width: 100%;
            }

            .ticket-body {
                grid-template-columns: 1fr;
            }

            .countdown-timer {
                flex-wrap: wrap;
                gap: 1rem;
            }

            .time-unit {
                min-width: 70px;
            }

            .venue-content {
                grid-template-columns: 1fr;
            }

            .schedule-grid {
                grid-template-columns: 1fr;
            }

            .upgrade-benefits {
                grid-template-columns: 1fr;
            }

            .support-grid {
                grid-template-columns: 1fr;
            }

            .ticket-actions {
                flex-direction: column;
            }

            .btn-primary,
            .btn-secondary {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Header Navigation -->
    <header class="header">
        <div class="nav-container">
            <div class="logo">🎯 TBAT Mock Exam</div>
            <div class="user-info">
                <span class="user-badge free">FREE</span>
                <span class="user-name">สมชาย ใจดี</span>
                <a href="#" class="btn-logout">ออกจากระบบ</a>
            </div>
        </div>
    </header>

    <!-- Main Dashboard -->
    <main class="dashboard-container">
        <!-- Exam Ticket Section -->
        <section class="ticket-section">
            <div class="ticket-header">
                <div>
                    <h1 class="ticket-title">🎫 บัตรเข้าสอบของคุณ</h1>
                    <p style="color: var(--tbat-text-light);">กรุณาพิมพ์หรือบันทึกบัตรนี้เพื่อใช้ในวันสอบ</p>
                </div>
                <div class="exam-code-box">
                    <div class="code-label">รหัสสอบ</div>
                    <div class="exam-code">FREE-2468-CHM</div>
                </div>
            </div>

            <div class="ticket-body">
                <div class="ticket-info">
                    <span class="info-icon">👤</span>
                    <div class="info-content">
                        <div class="info-label">ชื่อผู้สมัคร</div>
                        <div class="info-value">นายสมชาย ใจดี</div>
                    </div>
                </div>
                <div class="ticket-info">
                    <span class="info-icon">🎓</span>
                    <div class="info-content">
                        <div class="info-label">โรงเรียน</div>
                        <div class="info-value">โรงเรียนยุพราชวิทยาลัย</div>
                    </div>
                </div>
                <div class="ticket-info">
                    <span class="info-icon">📚</span>
                    <div class="info-content">
                        <div class="info-label">แพ็กเกจ</div>
                        <div class="info-value">FREE (1 วิชา)</div>
                    </div>
                </div>
                <div class="ticket-info">
                    <span class="info-icon">📅</span>
                    <div class="info-content">
                        <div class="info-label">วันที่สอบ</div>
                        <div class="info-value">20 กันยายน 2568</div>
                    </div>
                </div>
                <div class="ticket-info">
                    <span class="info-icon">📞</span>
                    <div class="info-content">
                        <div class="info-label">Line ID</div>
                        <div class="info-value">somchai_2025</div>
                    </div>
                </div>
                <div class="ticket-info">
                    <span class="info-icon">✉️</span>
                    <div class="info-content">
                        <div class="info-label">อีเมล</div>
                        <div class="info-value">somchai@gmail.com</div>
                    </div>
                </div>
                <div class="ticket-info">
                    <span class="info-icon">🧪</span>
                    <div class="info-content">
                        <div class="info-label">วิชาที่เลือก</div>
                        <div class="info-value">เคมี (Chemistry)</div>
                    </div>
                </div>
                <div class="ticket-info">
                    <span class="info-icon">⏰</span>
                    <div class="info-content">
                        <div class="info-label">เวลาสอบ</div>
                        <div class="info-value">08:00 - 09:00 น.</div>
                    </div>
                </div>
            </div>

            <div class="ticket-actions" style="justify-content: center;">
                <a href="#" class="btn-primary">
                    <span>🖨️</span>
                    <span>พิมพ์บัตรสอบ</span>
                </a>
                <a href="#" class="btn-secondary">
                    <span>💾</span>
                    <span>บันทึกเป็น PDF</span>
                </a>
            </div>
        </section>

        <!-- Countdown Timer -->
        <section class="countdown-section">
            <h2 class="countdown-title">⏰ นับถอยหลังสู่วันสอบ</h2>
            <div class="countdown-timer">
                <div class="time-unit">
                    <div class="time-value" id="days">45</div>
                    <div class="time-label">วัน</div>
                </div>
                <div class="time-unit">
                    <div class="time-value" id="hours">12</div>
                    <div class="time-label">ชั่วโมง</div>
                </div>
                <div class="time-unit">
                    <div class="time-value" id="minutes">34</div>
                    <div class="time-label">นาที</div>
                </div>
                <div class="time-unit">
                    <div class="time-value" id="seconds">56</div>
                    <div class="time-label">วินาที</div>
                </div>
            </div>
        </section>

        <!-- Venue Information -->
        <section class="venue-section">
            <h2 class="section-title">
                <span>📍</span>
                <span>สถานที่สอบ</span>
            </h2>
            <div class="venue-content">
                <div class="venue-details">
                    <div class="venue-item">
                        <span class="venue-icon">🏫</span>
                        <div class="venue-info">
                            <strong>มหาวิทยาลัยเชียงใหม่</strong><br>
                            คณะวิทยาศาสตร์ อาคาร 40 ปี
                        </div>
                    </div>
                    <div class="venue-item">
                        <span class="venue-icon">📌</span>
                        <div class="venue-info">
                            <strong>ที่อยู่</strong><br>
                            239 ถนนห้วยแก้ว ตำบลสุเทพ อำเภอเมืองเชียงใหม่ จังหวัดเชียงใหม่ 50200
                        </div>
                    </div>
                    <div class="venue-item">
                        <span class="venue-icon">🚗</span>
                        <div class="venue-info">
                            <strong>การเดินทาง</strong><br>
                            มีที่จอดรถบริเวณลานจอดหน้าคณะ<br>
                            สามารถเดินทางด้วยรถสองแถวสายสุเทพ
                        </div>
                    </div>
                    <div class="venue-item">
                        <span class="venue-icon">⏰</span>
                        <div class="venue-info">
                            <strong>เวลารายงานตัว</strong><br>
                            07:30 น. (สอบเริ่ม 08:00 น.)
                        </div>
                    </div>
                </div>
                <div class="venue-map">
                    <div class="map-placeholder">
                        <span style="font-size: 3rem;">🗺️</span>
                        <p style="margin-top: 1rem;">แผนที่จะแสดงที่นี่</p>
                        <a href="https://maps.google.com" target="_blank" class="btn-secondary" style="margin-top: 1rem;">ดูใน Google Maps</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Exam Schedule -->
        <section class="schedule-section">
            <h2 class="section-title">
                <span>📅</span>
                <span>ตารางสอบของคุณ</span>
            </h2>
            <div class="schedule-grid">
                <div class="schedule-card">
                    <div class="subject-header">
                        <span class="subject-name">เคมี</span>
                        <span class="subject-icon">🧪</span>
                    </div>
                    <div class="schedule-time">
                        <span>🕐</span>
                        <span>08:00 - 09:00 น. (60 นาที)</span>
                    </div>
                    <div class="schedule-room">
                        <span>🚪</span>
                        <span>ห้องสอบ: SCB 2301</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Upgrade Section (for FREE users) -->
        <section class="upgrade-section">
            <h2 class="upgrade-title">🚀 Advanced Package</h2>
            <p style="margin-bottom: 1rem;">ปลดล็อคการสอบทั้ง 3 วิชา พร้อมผลสอบแบบละเอียด</p>
            <div class="upgrade-benefits">
                <div class="benefit-item">
                    <span class="check-icon">✓</span>
                    <span>สอบได้ทั้ง 3 วิชา</span>
                </div>
                <div class="benefit-item">
                    <span class="check-icon">✓</span>
                    <span>ดูเฉลยละเอียด</span>
                </div>
                <div class="benefit-item">
                    <span class="check-icon">✓</span>
                    <span>วิเคราะห์จุดอ่อนจุดแข็ง</span>
                </div>
                <div class="benefit-item">
                    <span class="check-icon">✓</span>
                    <span>ประเมินโอกาสติดคณะ</span>
                </div>
            </div>
            <a href="#" class="btn-upgrade">Advanced Package เพียง ฿690</a>
        </section>

        <!-- Announcements -->
        <section class="announcements-section">
            <h2 class="section-title">
                <span>📢</span>
                <span>ประกาศสำคัญ</span>
            </h2>
            <div class="announcement-list">
                <div class="announcement-item urgent">
                    <div class="announcement-date">15 สิงหาคม 2568</div>
                    <div class="announcement-title">⚠️ เตือน: กำหนดการสมัคร Advanced Package</div>
                    <div class="announcement-content">
                        ผู้ที่ต้องการสมัคร Advanced Package เพื่อสอบทั้ง 3 วิชา กรุณาดำเนินการก่อนวันที่ 10 กันยายน 2568 
                        เพื่อให้ทางทีมงานจัดเตรียมข้อสอบได้ทัน
                    </div>
                </div>
                <div class="announcement-item">
                    <div class="announcement-date">10 สิงหาคม 2568</div>
                    <div class="announcement-title">📋 รายการสิ่งที่ต้องนำมาในวันสอบ</div>
                    <div class="announcement-content">
                        1. บัตรประชาชนหรือบัตรนักเรียน<br>
                        2. บัตรเข้าสอบ (พิมพ์จากระบบ)<br>
                        3. ดินสอ 2B, ยางลบ, ปากกา<br>
                        4. เครื่องคิดเลขวิทยาศาสตร์ (สำหรับวิชาเคมีและฟิสิกส์)
                    </div>
                </div>
                <div class="announcement-item">
                    <div class="announcement-date">5 สิงหาคม 2568</div>
                    <div class="announcement-title">📚 คู่มือเตรียมตัวก่อนสอบ</div>
                    <div class="announcement-content">
                        ดาวน์โหลดคู่มือการเตรียมตัวก่อนสอบ พร้อมหัวข้อที่ควรทบทวน 
                        ได้ที่หน้าเว็บไซต์หลัก หรือติดต่อทาง Line Official
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Support -->
        <section class="support-section">
            <h2 class="section-title">
                <span>💬</span>
                <span>ติดต่อสอบถาม</span>
            </h2>
            <div class="support-grid">
                <div class="support-card">
                    <div class="support-icon">📱</div>
                    <div class="support-title">Line Official</div>
                    <a href="https://lin.ee/Od30eK8" target="_blank" class="support-contact">@842txkmq</a>
                </div>
                <div class="support-card">
                    <div class="support-icon">📧</div>
                    <div class="support-title">อีเมล</div>
                    <a href="mailto:aspect.educationcenter@gmail.com" class="support-contact">aspect.educationcenter@gmail.com</a>
                </div>
                <div class="support-card">
                    <div class="support-icon">📞</div>
                    <div class="support-title">โทรศัพท์</div>
                    <a href="tel:0993788111" class="support-contact">099-378-8111</a>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Mobile Menu Toggle
        function setupMobileMenu() {
            const menuBtn = document.createElement('button');
            menuBtn.className = 'mobile-menu-btn';
            menuBtn.innerHTML = '☰';
            menuBtn.setAttribute('aria-label', 'เปิดเมนู');
            
            const navContainer = document.querySelector('.nav-container');
            const userInfo = document.querySelector('.user-info');
            
            // Create mobile menu
            const mobileMenu = document.createElement('div');
            mobileMenu.className = 'mobile-menu';
            mobileMenu.innerHTML = `
                <div style="margin-bottom: 2rem;">
                    <h3 style="color: var(--tbat-primary); margin-bottom: 1rem;">เมนู</h3>
                    <div style="display: flex; flex-direction: column; gap: 1rem;">
                        <span class="user-badge free">FREE</span>
                        <span class="user-name">สมชาย ใจดี</span>
                        <a href="#" class="btn-logout"><span>ออกจากระบบ</span></a>
                    </div>
                </div>
            `;
            
            const menuOverlay = document.createElement('div');
            menuOverlay.className = 'menu-overlay';
            
            document.body.appendChild(mobileMenu);
            document.body.appendChild(menuOverlay);
            navContainer.appendChild(menuBtn);
            
            // Toggle menu
            menuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('active');
                menuOverlay.classList.toggle('active');
                menuBtn.innerHTML = mobileMenu.classList.contains('active') ? '✕' : '☰';
            });
            
            menuOverlay.addEventListener('click', () => {
                mobileMenu.classList.remove('active');
                menuOverlay.classList.remove('active');
                menuBtn.innerHTML = '☰';
            });
        }

        // Smooth Scroll Enhancement
        function setupSmoothScroll() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }

        // Add loading state to buttons
        function addButtonLoadingStates() {
            const buttons = document.querySelectorAll('.btn-primary, .btn-secondary, .btn-upgrade');
            buttons.forEach(button => {
                button.addEventListener('click', function(e) {
                    if (this.classList.contains('loading')) {
                        e.preventDefault();
                        return;
                    }
                    
                    // Skip for actual navigation links
                    if (this.href && !this.href.includes('#')) {
                        return;
                    }
                    
                    this.classList.add('loading');
                    const originalText = this.innerHTML;
                    this.innerHTML = '<span style="opacity: 0.7;">กำลังดำเนินการ...</span>';
                    
                    setTimeout(() => {
                        this.classList.remove('loading');
                        this.innerHTML = originalText;
                    }, 1500);
                });
            });
        }

        // Intersection Observer for animations
        function setupIntersectionObserver() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animationPlayState = 'running';
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);
            
            // Observe sections
            const sections = document.querySelectorAll('section');
            sections.forEach((section, index) => {
                section.style.animationDelay = `${index * 0.1}s`;
                section.style.animationPlayState = 'paused';
                section.classList.add('fade-in-up');
                observer.observe(section);
            });
        }

        // Enhanced Countdown Timer with pulse effect
        let lastSeconds = -1;
        
        function updateCountdown() {
            const examDate = new Date('2025-09-20T08:00:00');
            const now = new Date();
            const difference = examDate - now;

            if (difference > 0) {
                const days = Math.floor(difference / (1000 * 60 * 60 * 24));
                const hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((difference % (1000 * 60)) / 1000);

                document.getElementById('days').textContent = days;
                document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
                document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
                
                const secondsElement = document.getElementById('seconds');
                secondsElement.textContent = seconds.toString().padStart(2, '0');
                
                // Add pulse effect when seconds change
                if (seconds !== lastSeconds) {
                    secondsElement.parentElement.classList.add('pulse');
                    setTimeout(() => {
                        secondsElement.parentElement.classList.remove('pulse');
                    }, 500);
                    lastSeconds = seconds;
                }
            } else {
                // Exam has started
                document.querySelector('.countdown-section').innerHTML = `
                    <h2 class="countdown-title">🎯 การสอบได้เริ่มแล้ว!</h2>
                    <p>ขอให้ทำข้อสอบอย่างเต็มความสามารถ</p>
                `;
            }
        }

        // Initialize all features
        document.addEventListener('DOMContentLoaded', function() {
            // Setup mobile menu
            if (window.innerWidth <= 768) {
                setupMobileMenu();
            }
            
            // Setup smooth scroll
            setupSmoothScroll();
            
            // Add button loading states
            addButtonLoadingStates();
            
            // Setup intersection observer for animations
            setupIntersectionObserver();
            
            // Update countdown every second
            setInterval(updateCountdown, 1000);
            updateCountdown();
            
            // Keyboard navigation
            setupKeyboardNavigation();
            
            // Print functionality with custom print area
            setupPrintFunction();
            
            // Copy exam code functionality
            setupCopyExamCode();
            
            // Announcement interactions
            setupAnnouncementInteractions();
        });

        // Keyboard Navigation
        function setupKeyboardNavigation() {
            let currentFocusIndex = 0;
            const focusableElements = document.querySelectorAll('a, button, [tabindex="0"]');
            
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Tab') {
                    // Let browser handle default tab behavior
                    return;
                }
                
                // Quick shortcuts
                if (e.altKey) {
                    switch(e.key) {
                        case 'p':
                            e.preventDefault();
                            window.print();
                            break;
                        case 'u':
                            e.preventDefault();
                            document.querySelector('.btn-upgrade')?.click();
                            break;
                    }
                }
            });
        }

        // Enhanced Print Function
        function setupPrintFunction() {
            document.querySelector('.btn-primary').addEventListener('click', function(e) {
                if (this.textContent.includes('พิมพ์')) {
                    e.preventDefault();
                    
                    // Create print-specific styles
                    const printStyles = document.createElement('style');
                    printStyles.innerHTML = `
                        @media print {
                            @page {
                                size: A4;
                                margin: 20mm;
                            }
                        }
                    `;
                    document.head.appendChild(printStyles);
                    
                    window.print();
                    
                    // Clean up
                    setTimeout(() => {
                        document.head.removeChild(printStyles);
                    }, 100);
                }
            });
        }

        // Copy Exam Code
        function setupCopyExamCode() {
            const examCodeBox = document.querySelector('.exam-code-box');
            examCodeBox.style.cursor = 'pointer';
            examCodeBox.title = 'คลิกเพื่อคัดลอกรหัสสอบ';
            
            examCodeBox.addEventListener('click', function() {
                const code = document.querySelector('.exam-code').textContent;
                navigator.clipboard.writeText(code).then(() => {
                    const originalHTML = this.innerHTML;
                    this.innerHTML = '<div style="padding: 1rem;">✓ คัดลอกรหัสแล้ว!</div>';
                    setTimeout(() => {
                        this.innerHTML = originalHTML;
                    }, 2000);
                }).catch(() => {
                    alert('รหัสสอบ: ' + code);
                });
            });
        }

        // Announcement Interactions
        function setupAnnouncementInteractions() {
            const announcements = document.querySelectorAll('.announcement-item');
            announcements.forEach((item, index) => {
                // Add entrance animation
                item.style.animationDelay = `${index * 0.1}s`;
                item.classList.add('slide-in-left');
                
                // Add hover effect
                item.style.transition = 'all 0.3s ease';
                item.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateX(5px)';
                });
                item.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateX(0)';
                });
            });
        }

        // Save as PDF functionality
        document.querySelector('.btn-secondary').addEventListener('click', function(e) {
            if (this.textContent.includes('PDF')) {
                e.preventDefault();
                
                // Show loading state
                this.classList.add('loading');
                const originalText = this.innerHTML;
                this.innerHTML = '<span>กำลังสร้าง PDF...</span>';
                
                // Simulate PDF generation
                setTimeout(() => {
                    this.classList.remove('loading');
                    this.innerHTML = originalText;
                    
                    // Create download notification
                    const notification = document.createElement('div');
                    notification.style.cssText = `
                        position: fixed;
                        bottom: 20px;
                        right: 20px;
                        background: var(--tbat-success);
                        color: white;
                        padding: 1rem 1.5rem;
                        border-radius: 8px;
                        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                        animation: slideInLeft 0.3s ease;
                        z-index: 1000;
                    `;
                    notification.innerHTML = '✓ บัตรสอบพร้อมดาวน์โหลดแล้ว';
                    document.body.appendChild(notification);
                    
                    setTimeout(() => {
                        notification.style.animation = 'fadeOut 0.3s ease';
                        setTimeout(() => {
                            document.body.removeChild(notification);
                        }, 300);
                    }, 3000);
                }, 1500);
            }
        });

        // Upgrade button with confirmation
        document.querySelector('.btn-upgrade').addEventListener('click', function(e) {
            e.preventDefault();
            
            if (confirm('ต้องการสมัคร Advanced Package ราคา ฿690?\n\nสิทธิพิเศษ:\n- สอบได้ทั้ง 3 วิชา\n- ดูเฉลยละเอียดหลังสอบ\n- วิเคราะห์จุดอ่อนจุดแข็ง\n- ประเมินโอกาสติดคณะ')) {
                window.location.href = '/payment';
            }
        });

        // Responsive adjustments
        window.addEventListener('resize', () => {
            if (window.innerWidth <= 768 && !document.querySelector('.mobile-menu-btn')) {
                setupMobileMenu();
            }
        });

        // Add fade out animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeOut {
                from { opacity: 1; }
                to { opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>